{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../Downloads/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n    <view class=\"container\">\r\n        <!-- Login Page (shows first) -->\r\n        <view class=\"login-page\" v-if=\"!userInfo.isLoggedIn\">\r\n            <view class=\"app-header\">\r\n                <view class=\"app-icon\">üè¢</view>\r\n                <text class=\"app-name\">‰∏öÂä°ÁÆ°ÁêÜÁ≥ªÁªü</text>\r\n            </view>\r\n            <view class=\"login-button-container\">\r\n                <button class=\"employee-login-btn\" @click=\"wechatLogin\">ÂëòÂ∑•ÁôªÂΩï</button>\r\n            </view>\r\n        </view>\r\n\r\n        <!-- Main Menu (shows after login) -->\r\n        <view class=\"main-menu\" v-if=\"userInfo.isLoggedIn\">\r\n            <view class=\"header\">\r\n                <text class=\"title\">‰∏öÂä°ÁÆ°ÁêÜÁ≥ªÁªü</text>\r\n            </view>\r\n\r\n            <view class=\"main-tabs\">\r\n                <view class=\"tab-item survey\" @click=\"goToSite\">\r\n                    <view class=\"tab-icon\">üìã</view>\r\n                    <text class=\"tab-title\">Ë∏èÂãò</text>\r\n                    <text class=\"tab-desc\">Áé∞Âú∫Ë∏èÂãò‰ø°ÊÅØÈááÈõÜ</text>\r\n                </view>\r\n\r\n                <view class=\"tab-item construction\" @click=\"goToConstruction\">\r\n                    <view class=\"tab-icon\">üßØ</view>\r\n                    <text class=\"tab-title\">Ê∏ÖÊ¥ó</text>\r\n                    <text class=\"tab-desc\">ÊñΩÂ∑•ËøõÂ∫¶ÁÆ°ÁêÜ</text>\r\n                </view>\r\n\r\n                <view class=\"tab-item business\" @click=\"goToBusiness\">\r\n                    <view class=\"tab-icon\">üíº</view>\r\n                    <text class=\"tab-title\">Ëê•‰∏öÁÆ°ÁêÜ</text>\r\n                    <text class=\"tab-desc\">ÂïÜÊà∑‰ø°ÊÅØÁÆ°ÁêÜ</text>\r\n                </view>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                userInfo: {\r\n                    name: '',\r\n                    company: '',\r\n                    isLoggedIn: false\r\n                }\r\n            };\r\n        },\r\n        methods: {\r\n            // Demo user data - replace with real API call later\r\n            getDemoUserData(openid) {\r\n                const demoUsers = {\r\n                    'demo_user_1': {\r\n                        name: 'Âº†‰∏â',\r\n                        company: 'Âåó‰∫¨Âª∫Á≠ëÂÖ¨Âè∏'\r\n                    },\r\n                    'demo_user_2': {\r\n                        name: 'ÊùéÂõõ',\r\n                        company: '‰∏äÊµ∑Â∑•Á®ãÈõÜÂõ¢'\r\n                    },\r\n                    'demo_user_3': {\r\n                        name: 'Áéã‰∫î',\r\n                        company: 'ÂπøÂ∑ûÊñΩÂ∑•ÊúâÈôêÂÖ¨Âè∏'\r\n                    }\r\n                };\r\n                return demoUsers[openid] || {\r\n                    name: 'ÊµãËØïÁî®Êà∑',\r\n                    company: 'ÊºîÁ§∫ÂÖ¨Âè∏'\r\n                };\r\n            },\r\n\r\n            // WeChat login\r\n            wechatLogin() {\r\n                uni.login({\r\n                    provider: 'weixin',\r\n                    success: async (loginRes) => {\r\n                        console.log('ÂæÆ‰ø°ÁôªÂΩïÊàêÂäü', loginRes.code);\r\n\r\n                        // Call cloud function\r\n                        const result = await uniCloud.callFunction({\r\n                            name: 'wechat-login',\r\n                            data: {\r\n                                code: loginRes.code\r\n                            }\r\n                        });\r\n\r\n                        console.log('OpenID:', result.result.openid);\r\n\r\n                        // Get user data from your database using openid\r\n                        const userResult = await uniCloud.callFunction({\r\n                            name: 'get-user',\r\n                            data: {\r\n                                openid: result.result.openid\r\n                            }\r\n                        });\r\n\r\n                        const userData = userResult.result;\r\n\r\n                        console.log('User data from database:', userData);\r\n\r\n                        this.userInfo.name = userData.name;\r\n                        this.userInfo.company = userData.company;\r\n                        this.userInfo.isLoggedIn = true;\r\n\r\n                        uni.showToast({\r\n                            title: `Ê¨¢Ëøé ${userData.name}`,\r\n                            icon: 'success'\r\n                        });\r\n                    },\r\n                    fail: (err) => {\r\n                        console.log('ÂæÆ‰ø°ÁôªÂΩïÂ§±Ë¥•', err);\r\n                        uni.showToast({\r\n                            title: 'ÁôªÂΩïÂ§±Ë¥•Ôºå‰ΩøÁî®ÊºîÁ§∫Ê®°Âºè',\r\n                            icon: 'none'\r\n                        });\r\n                        const userData = this.getDemoUserData('demo_user_1');\r\n                        this.userInfo.name = userData.name;\r\n                        this.userInfo.company = userData.company;\r\n                        this.userInfo.isLoggedIn = true;\r\n                    }\r\n                });\r\n            },\r\n\r\n            goToSite() {\r\n                uni.navigateTo({\r\n                    url: '/pages/site/index',\r\n                    success: () => {\r\n                        uni.setStorageSync('userInfo', this.userInfo);\r\n                    }\r\n                });\r\n            },\r\n\r\n            goToConstruction() {\r\n                uni.navigateTo({\r\n                    url: '/pages/construction/index',\r\n                    success: () => {\r\n                        uni.setStorageSync('userInfo', this.userInfo);\r\n                    }\r\n                });\r\n            },\r\n\r\n            goToBusiness() {\r\n                uni.navigateTo({\r\n                    url: '/pages/business/index',\r\n                    success: () => {\r\n                        uni.setStorageSync('userInfo', this.userInfo);\r\n                    }\r\n                });\r\n            },\r\n\r\n            goToTest() {\r\n                uni.navigateTo({\r\n                    url: '/pages/test/test'\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .container {\r\n        padding: 20rpx;\r\n        background-color: #f5f5f5;\r\n        min-height: 100vh;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    // Login page styles\r\n    .login-page {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        min-height: 100vh;\r\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    }\r\n\r\n    .app-header {\r\n        text-align: center;\r\n        margin-bottom: 100rpx;\r\n    }\r\n\r\n    .app-icon {\r\n        font-size: 120rpx;\r\n        margin-bottom: 30rpx;\r\n    }\r\n\r\n    .app-name {\r\n        font-size: 48rpx;\r\n        color: white;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .login-button-container {\r\n        width: 100%;\r\n        padding: 0 60rpx;\r\n    }\r\n\r\n    .employee-login-btn {\r\n        width: 100%;\r\n        padding: 30rpx;\r\n        background-color: white;\r\n        color: #333;\r\n        border: none;\r\n        border-radius: 50rpx;\r\n        font-size: 32rpx;\r\n        font-weight: bold;\r\n\r\n        &:active {\r\n            background-color: #f0f0f0;\r\n        }\r\n    }\r\n\r\n    // Main menu styles\r\n    .main-menu {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .header {\r\n        text-align: center;\r\n        padding: 40rpx 0 60rpx 0;\r\n\r\n        .title {\r\n            font-size: 48rpx;\r\n            font-weight: bold;\r\n            color: #333;\r\n        }\r\n    }\r\n\r\n    .main-tabs {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        gap: 40rpx;\r\n        padding: 0 40rpx;\r\n    }\r\n\r\n    .tab-item {\r\n        background: white;\r\n        border-radius: 24rpx;\r\n        padding: 80rpx 40rpx;\r\n        box-shadow: 0 6rpx 20rpx rgba(0, 0, 0, 0.1);\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        text-align: center;\r\n        transition: all 0.3s ease;\r\n        min-height: 300rpx;\r\n        justify-content: center;\r\n\r\n        &:active {\r\n            transform: scale(0.98);\r\n            box-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.15);\r\n        }\r\n    }\r\n\r\n    .tab-icon {\r\n        font-size: 120rpx;\r\n        margin-bottom: 30rpx;\r\n    }\r\n\r\n    .tab-title {\r\n        font-size: 48rpx;\r\n        font-weight: bold;\r\n        color: #333;\r\n        margin-bottom: 20rpx;\r\n    }\r\n\r\n    .tab-desc {\r\n        font-size: 28rpx;\r\n        color: #666;\r\n        line-height: 1.4;\r\n    }\r\n\r\n    .survey {\r\n        border-left: 12rpx solid #34C759;\r\n    }\r\n\r\n    .construction {\r\n        border-left: 12rpx solid #FF9500;\r\n    }\r\n\r\n    .business {\r\n        border-left: 12rpx solid #007AFF;\r\n    }\r\n</style>","import MiniProgramPage from 'C:/Users/31110/Documents/HBuilderProjects/test/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AA2CI,MAAK,YAAU;AAAA,EACX,OAAO;AACH,WAAO;AAAA,MACH,UAAU;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,QACT,YAAY;AAAA,MAChB;AAAA;EAEP;AAAA,EACD,SAAS;AAAA;AAAA,IAEL,gBAAgB,QAAQ;AACpB,YAAM,YAAY;AAAA,QACd,eAAe;AAAA,UACX,MAAM;AAAA,UACN,SAAS;AAAA,QACZ;AAAA,QACD,eAAe;AAAA,UACX,MAAM;AAAA,UACN,SAAS;AAAA,QACZ;AAAA,QACD,eAAe;AAAA,UACX,MAAM;AAAA,UACN,SAAS;AAAA,QACb;AAAA;AAEJ,aAAO,UAAU,MAAM,KAAK;AAAA,QACxB,MAAM;AAAA,QACN,SAAS;AAAA;IAEhB;AAAA;AAAA,IAGD,cAAc;AACVA,oBAAAA,MAAI,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS,OAAO,aAAa;AACzBA,wBAAA,MAAA,MAAA,OAAA,+BAAY,UAAU,SAAS,IAAI;AAGnC,gBAAM,SAAS,MAAMC,cAAQ,GAAC,aAAa;AAAA,YACvC,MAAM;AAAA,YACN,MAAM;AAAA,cACF,MAAM,SAAS;AAAA,YACnB;AAAA,UACJ,CAAC;AAEDD,8BAAA,MAAA,OAAA,+BAAY,WAAW,OAAO,OAAO,MAAM;AAG3C,gBAAM,aAAa,MAAMC,cAAQ,GAAC,aAAa;AAAA,YAC3C,MAAM;AAAA,YACN,MAAM;AAAA,cACF,QAAQ,OAAO,OAAO;AAAA,YAC1B;AAAA,UACJ,CAAC;AAED,gBAAM,WAAW,WAAW;AAE5BD,wBAAA,MAAA,MAAA,OAAA,gCAAY,4BAA4B,QAAQ;AAEhD,eAAK,SAAS,OAAO,SAAS;AAC9B,eAAK,SAAS,UAAU,SAAS;AACjC,eAAK,SAAS,aAAa;AAE3BA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO,MAAM,SAAS,IAAI;AAAA,YAC1B,MAAM;AAAA,UACV,CAAC;AAAA,QACJ;AAAA,QACD,MAAM,CAAC,QAAQ;AACXA,wBAAA,MAAA,MAAA,OAAA,gCAAY,UAAU,GAAG;AACzBA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UACV,CAAC;AACD,gBAAM,WAAW,KAAK,gBAAgB,aAAa;AACnD,eAAK,SAAS,OAAO,SAAS;AAC9B,eAAK,SAAS,UAAU,SAAS;AACjC,eAAK,SAAS,aAAa;AAAA,QAC/B;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA,IAED,WAAW;AACPA,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK;AAAA,QACL,SAAS,MAAM;AACXA,wBAAAA,MAAI,eAAe,YAAY,KAAK,QAAQ;AAAA,QAChD;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA,IAED,mBAAmB;AACfA,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK;AAAA,QACL,SAAS,MAAM;AACXA,wBAAAA,MAAI,eAAe,YAAY,KAAK,QAAQ;AAAA,QAChD;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA,IAED,eAAe;AACXA,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK;AAAA,QACL,SAAS,MAAM;AACXA,wBAAAA,MAAI,eAAe,YAAY,KAAK,QAAQ;AAAA,QAChD;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA,IAED,WAAW;AACPA,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK;AAAA,MACT,CAAC;AAAA,IACL;AAAA,EACJ;;;;;;;;;;;;;;;;AC/JR,GAAG,WAAW,eAAe;"}